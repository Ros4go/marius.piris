<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo de Noël</title>
    <style>
        /* Styles globaux */
        body {
            font-family: Arial, sans-serif;
            background-color: #ff4141;
            color: #fff;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        h1 {
            margin-top: 20px;
        }

        /* Grille du Bingo */
        .bingo-container {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            width: 90%;
            max-width: 600px;
            margin: 20px 0;
        }

        .bingo-cell {
            background-color: #fff;
            color: #b82d2d;
            text-align: center;
            padding: 15px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            border: 2px solid #b82d2d;
            transition: background-color 0.2s;
        }

        .bingo-cell.checked {
            background-color: #f4c542;
            color: #333;
            border-color: #ff9800;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .bingo-cell {
                padding: 10px;
                font-size: 12px;
            }
        }

        /* Pop-up */
        #bingo-popup {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #fff;
            color: #b82d2d;
            padding: 20px;
            border: 3px solid #b82d2d;
            text-align: center;
            z-index: 1000;
        }

        #bingo-popup button {
            margin-top: 10px;
            padding: 5px 10px;
            background-color: #b82d2d;
            color: #fff;
            border: none;
            cursor: pointer;
        }

        #score {
            font-size: 18px;
            margin-bottom: 10px;
        }

        #reset-btn {
            background-color: #fff;
            color: #b82d2d;
            border: 2px solid #b82d2d;
            padding: 5px 10px;
            cursor: pointer;
            margin-bottom: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Bingo des fêtes</h1>
    <div id="score">Score : 0</div>
    <button id="reset-btn" onclick="resetScore()">Réinitialiser le score</button>
    <div class="bingo-container" id="bingo-grid"></div>

    <!-- Pop-up -->
    <div id="bingo-popup">
        <h2>BINGO !</h2>
        <button onclick="closePopup()">OK</button>
    </div>

    <script>
        // Contenu des cases
        const bingoPhrases = [
            "Celui qui se gave de petits fours", "Se couper en ouvrant les huîtres", "Oh ben non, on attend minuit pour ouvrir les cadeaux",
            "Le débat politique", "Alors, tu as un(e) chéri(e) ?", "Tu sais, le foie gras, c'est la cruauté animale",
            "Celui qui est déçu par son cadeau", "Passer 4h à table", "Alors, tu as été sage cette année ?", 
            "Celui qui est malade", "Le stress des préparatifs", "La table des enfants", 
            "Les Echos START", "Celui qui n'a pas fait de cadeaux", "Ne plus avoir faim après l'entrée", 
            "À ton âge, j'avais une clémentine pour Noël", "Ooooh, il fallait pas, vraiment...", 
            "Celui qui a fait une bûche maison (ratée)", "Les blagues nulles du tonton", "Qui accompagne Mamie à la messe de minuit ?", 
            "Acheter ses cadeaux à la dernière minute", "Les emballages cadeaux foirés", "Comme tu as grandi !", 
            "Bosser jusqu'à 19h le 24", "Tu fais quoi toi en ce moment ?"
        ];

        const grid = document.getElementById("bingo-grid");
        const scoreDisplay = document.getElementById("score");
        let score = parseInt(localStorage.getItem("bingoScore")) || 0;
        scoreDisplay.textContent = `Score : ${score}`;
        const cells = [];

        // Créer la grille
        function createBingoGrid() {
            bingoPhrases.forEach((phrase, index) => {
                const cell = document.createElement("div");
                cell.classList.add("bingo-cell");
                cell.textContent = phrase;
                cell.addEventListener("click", () => toggleCell(index));
                grid.appendChild(cell);
                cells.push(cell);
            });
        }

        // Vérifier les lignes, colonnes et diagonales
        function checkBingo() {
            const checkedIndexes = cells.map((cell, i) => cell.classList.contains("checked") ? i : null).filter(i => i !== null);
            const winningPatterns = [
                [0, 1, 2, 3, 4], [5, 6, 7, 8, 9], [10, 11, 12, 13, 14],
                [15, 16, 17, 18, 19], [20, 21, 22, 23, 24],
                [0, 5, 10, 15, 20], [1, 6, 11, 16, 21], [2, 7, 12, 17, 22],
                [3, 8, 13, 18, 23], [4, 9, 14, 19, 24],
                [0, 6, 12, 18, 24], [4, 8, 12, 16, 20]
            ];

            for (const pattern of winningPatterns) {
                if (pattern.every(index => checkedIndexes.includes(index))) {
                    score++;
                    localStorage.setItem("bingoScore", score);
                    scoreDisplay.textContent = `Score : ${score}`;
                    showPopup();
                    break;
                }
            }
        }

        // Marquer ou démarquer une case
        function toggleCell(index) {
            cells[index].classList.toggle("checked");
            checkBingo();
        }

        // Réinitialiser le score
        function resetScore() {
            score = 0;
            localStorage.setItem("bingoScore", score);
            scoreDisplay.textContent = `Score : ${score}`;
        }

        // Afficher le pop-up et décocher la grille
        function showPopup() {
            document.getElementById("bingo-popup").style.display = "block";
            resetGrid();
        }

        // Fermer le pop-up
        function closePopup() {
            document.getElementById("bingo-popup").style.display = "none";
        }

        // Réinitialiser la grille
        function resetGrid() {
            cells.forEach(cell => cell.classList.remove("checked"));
        }

        // Initialisation
        createBingoGrid();
    </script>
</body>
</html>
